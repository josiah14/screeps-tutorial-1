{"version":3,"sources":["processor/intents/room/create-construction-site.js"],"names":["_","require","utils","driver","getDriver","C","constants","config","createdConstructionSiteCounter","module","exports","intent","roomObjects","roomTerrain","bulk","bulkUsers","roomController","x","y","CONSTRUCTION_COST","structureType","test","roomName","user","reservation","checkControllerAvailability","checkConstructionSite","progressTotal","any","type","checkTerrain","TERRAIN_MASK_SWAMP","CONSTRUCTION_COST_ROAD_SWAMP_RATIO","ptr","obj","room","progress","name","insert"],"mappings":";;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AAAA,IACIC,QAAQD,QAAQ,gBAAR,CADZ;AAAA,IAEIE,SAASD,MAAME,SAAN,EAFb;AAAA,IAGIC,IAAIF,OAAOG,SAHf;AAAA,IAIIC,SAASN,QAAQ,iBAAR,CAJb;;AAMA,IAAIO,iCAAiC,CAArC;;AAEAC,OAAOC,OAAP,GAAiB,UAASC,MAAT,EAAiBC,WAAjB,EAA8BC,WAA9B,EAA2CC,IAA3C,EAAiDC,SAAjD,EAA4DC,cAA5D,EAA4E;;AAEzF,QAAGL,OAAOM,CAAP,IAAY,CAAZ,IAAiBN,OAAOM,CAAP,IAAY,EAA7B,IAAmCN,OAAOO,CAAP,IAAY,CAA/C,IAAoDP,OAAOO,CAAP,IAAY,EAAnE,EAAuE;AACnE;AACH;;AAED,QAAG,CAACb,EAAEc,iBAAF,CAAoBR,OAAOS,aAA3B,CAAJ,EAA+C;AAC3C;AACH;;AAED,QAAG,SAASC,IAAT,CAAcV,OAAOW,QAArB,CAAH,EAAmC;;AAE/B,YAAIN,mBAAmBA,eAAeO,IAAf,IAAuBP,eAAeO,IAAf,IAAuBZ,OAAOY,IAArD,IAA6DP,eAAeQ,WAAf,IAA8BR,eAAeQ,WAAf,CAA2BD,IAA3B,IAAmCZ,OAAOY,IAAxJ,CAAJ,EAAmK;AAC/J;AACH;;AAED,YAAI,CAACrB,MAAMuB,2BAAN,CAAkCd,OAAOS,aAAzC,EAAwDR,WAAxD,EAAqEI,cAArE,CAAL,EAA2F;AACvF;AACH;AACJ;;AAED,QAAG,CAACd,MAAMwB,qBAAN,CAA4Bd,WAA5B,EAAyCD,OAAOS,aAAhD,EAA+DT,OAAOM,CAAtE,EAAyEN,OAAOO,CAAhF,CAAD,IACC,CAAChB,MAAMwB,qBAAN,CAA4Bb,WAA5B,EAAyCF,OAAOS,aAAhD,EAA+DT,OAAOM,CAAtE,EAAyEN,OAAOO,CAAhF,CADL,EACyF;AACrF;AACH;;AAED,QAAIS,gBAAgBtB,EAAEc,iBAAF,CAAoBR,OAAOS,aAA3B,CAApB;;AAEA,QAAGT,OAAOS,aAAP,IAAwB,MAAxB,KACEpB,EAAE4B,GAAF,CAAMhB,WAAN,EAAmB,EAACK,GAAGN,OAAOM,CAAX,EAAcC,GAAGP,OAAOO,CAAxB,EAA2BW,MAAM,OAAjC,EAAnB,KACD3B,MAAM4B,YAAN,CAAmBjB,WAAnB,EAAgCF,OAAOM,CAAvC,EAA0CN,OAAOO,CAAjD,EAAoDb,EAAE0B,kBAAtD,CAFD,CAAH,EAEgF;AAC5EJ,yBAAiBtB,EAAE2B,kCAAnB;AACH;;AAED,QAAGzB,OAAO0B,GAAV,EAAe;AACXN,wBAAgB,CAAhB;AACH;;AAED,QAAGhB,OAAOW,QAAP,IAAmB,KAAnB,IAA4BX,OAAOS,aAAP,IAAwB,OAAvD,EAAgE;AAC5DO,wBAAgB,GAAhB;AACH;;AAED,QAAIO,MAAM;AACNd,uBAAeT,OAAOS,aADhB;AAENH,WAAGN,OAAOM,CAFJ;AAGNC,WAAGP,OAAOO,CAHJ;AAINW,cAAM,kBAJA;AAKNM,cAAMxB,OAAOW,QALP;AAMNC,cAAMZ,OAAOY,IANP;AAONa,kBAAU,CAPJ;AAQNT;AARM,KAAV;;AAWA,QAAGhB,OAAOS,aAAP,IAAwB,OAA3B,EAAoC;AAChCc,YAAIG,IAAJ,GAAW1B,OAAO0B,IAAlB;AACH;;AAEDvB,SAAKwB,MAAL,CAAYJ,GAAZ;;AAEAtB,gBAAY,6BAA2BJ,8BAAvC,IAAyE0B,GAAzE;AACA1B;AACH,CA7DD","file":"../../../../processor/intents/room/create-construction-site.js","sourceRoot":"/src"}